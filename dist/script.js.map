{"version":3,"file":"script.js","mappings":"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","sources":["webpack://video-player-block/../block-directory/node_modules/react-dom/client.js","webpack://video-player-block/external var \"ReactDOM\"","webpack://video-player-block/webpack/bootstrap","webpack://video-player-block/external var \"React\"","webpack://video-player-block/./src/Components/Common/Style.js","webpack://video-player-block/./src/utils/functions.js","webpack://video-player-block/./src/script.js","webpack://video-player-block/./src/utils/config.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __WEBPACK_NAMESPACE_OBJECT__ = React;","const Style = ({ attributes, clientId }) => {\r\n\tconst { width, radius } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#vpbVideoPlayer-${clientId} .vpbVideoPlayer{\r\n\t\t\twidth: ${['0px', '0%', '0em'].includes(width) ? '100%' : width};\r\n\t\t\tborder-radius: ${radius};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","export const controlsHandler = (controls) => {\r\n\tconst newControls = [];\r\n\tObject.keys(controls).map(item => {\r\n\t\tif (controls[item]) {\r\n\t\t\tnewControls.push(item);\r\n\t\t}\r\n\t});\r\n\treturn newControls;\r\n};\r\n\r\nexport const getExtension = (fileName) => fileName.substring(fileName.lastIndexOf('.') + 1);","import { useEffect, useRef } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nimport './style.scss';\r\nimport Style from './Components/Common/Style';\r\nimport { getExtension } from './utils/functions';\r\nimport { plyrConfig } from './utils/config';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst videoEls = document.querySelectorAll('.wp-block-vpb-video');\r\n\tvideoEls.forEach(videoEl => {\r\n\t\tconst attributes = JSON.parse(videoEl.dataset.attributes);\r\n\r\n\t\tcreateRoot(videoEl).render(<>\r\n\t\t\t<Style attributes={attributes} clientId={attributes.clientId} />\r\n\r\n\t\t\t<RenderVideo attributes={attributes} />\r\n\t\t</>);\r\n\r\n\t\tvideoEl?.removeAttribute('data-attributes')\r\n\t});\r\n});\r\n\r\nconst RenderVideo = ({ attributes }) => {\r\n\tconst { source, poster, muted, autoplay } = attributes;\r\n\r\n\tconst videoEl = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst player = new Plyr(videoEl.current, plyrConfig(attributes));\r\n\r\n\t\tplayer.on('ready', () => {\r\n\t\t\tif (muted && autoplay) {\r\n\t\t\t\tplayer.play();\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst autoplayProps = autoplay ? { autoplay } : {};\r\n\tconst mutedProps = muted ? { muted } : {};\r\n\r\n\treturn <div className='vpbVideoPlayer'>\r\n\t\t<div className='videoWrapper'>\r\n\t\t\t{/* eslint-disable-next-line react/no-unknown-property */}\r\n\t\t\t<video controls playsinline data-poster={poster} preload='metadata' {...autoplayProps} {...mutedProps} ref={videoEl}>\r\n\t\t\t\tYour browser does not support the video tag.\r\n\t\t\t\t<source src={source} type={`video/${getExtension(source) || 'mp4'}`} />\r\n\t\t\t</video>\r\n\t\t</div>\r\n\t</div>\r\n}","import { controlsHandler } from './functions';\r\n\r\nexport const plyrConfig = (attributes) => {\r\n\tconst { controls, repeat, autoplay, muted, resetOnEnd, autoHideControl } = attributes;\r\n\r\n\tconst mutedProps = muted ? { storage: { enabled: false, key: 'plyr' }, volume: 0 } : {};\r\n\r\n\treturn {\r\n\t\tcontrols: controlsHandler(controls),\r\n\t\tclickToPlay: false,\r\n\t\tloop: { active: repeat },\r\n\t\tmuted,\r\n\t\tautoplay,\r\n\t\t...mutedProps,\r\n\t\tresetOnEnd,\r\n\t\thideControls: autoHideControl,\r\n\t\tplaysinline: true\r\n\t}\r\n}"],"names":["m","exports","createRoot","hydrateRoot","module","ReactDOM","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","React","_ref","attributes","clientId","width","radius","createElement","dangerouslySetInnerHTML","__html","concat","includes","replace","controlsHandler","controls","newControls","Object","keys","map","item","push","document","addEventListener","querySelectorAll","forEach","videoEl","JSON","parse","dataset","render","Fragment","Style","RenderVideo","removeAttribute","source","poster","muted","autoplay","useRef","useEffect","player","Plyr","current","repeat","resetOnEnd","autoHideControl","mutedProps","storage","enabled","key","volume","_objectSpread","clickToPlay","loop","active","hideControls","playsinline","plyrConfig","on","play","fileName","autoplayProps","className","_extends","preload","ref","src","type","substring","lastIndexOf"],"sourceRoot":""}